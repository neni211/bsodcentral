<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>BSOD Central</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2775753189756640" crossorigin="anonymous"></script>

    <style>
:root {
  --bg: #cce7ff;
  --card: #fff;
  --text: #0f172a;
}

body.dark {
  --bg: #0f172a;
  --card: #1e293b;
  --text: #e5e7eb;
}

body {
  margin: 0;
  padding: 20px;
  background: var(--bg);
  color: var(--text);
  font-family: Arial, sans-serif;
  transition: .4s;
}

/* TOP BAR */
.topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: linear-gradient(90deg, #2563eb, #38bdf8);
  color: #fff;
  padding: 12px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 1000;
}

.topbar select,
.topbar button {
  margin-left: 8px;
  padding: 6px 10px;
  border-radius: 20px;
  border: none;
  font-weight: bold;
  cursor: pointer;
}

.topbar select {
  background: #fff;
  color: #2563eb;
}

.topbar button {
  background: #fff;
  color: #2563eb;
}

/* CONTENT */
.content {
  margin-top: 80px;
  max-width: 950px;
  margin-inline: auto;
}

.search {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #cbd5f5;
  font-size: 15px;
  margin-bottom: 15px;
}

/* DETAILS */
details {
  background: var(--card);
  border-radius: 10px;
  padding: 14px;
  margin: 12px 0;
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
  transition: transform 0.2s;
  position: relative;
}

summary {
  cursor: pointer;
  font-weight: bold;
}

/* RISK BAR */
.risk-wrap {
  margin-top: 10px;
  font-size: 13px;
}

.risk-bar {
  height: 10px;
  border-radius: 6px;
  background: #e5e7eb;
  overflow: hidden;
  margin-top: 4px;
}

.risk-fill {
  height: 100%;
  width: 0;
  animation: fill 1.2s ease forwards;
}

.low {
  background: #22c55e;
  width: 33%;
}

.mid {
  background: #f59e0b;
  width: 66%;
}

.high {
  background: #ef4444;
  width: 100%;
}

@keyframes fill {
  from { width: 0 }
}

/* COOKIE OVERLAY */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
}

.cookie-box {
  background: var(--card);
  padding: 25px;
  width: 350px;
  border-radius: 12px;
  text-align: center;
  font-size: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

.cookie-box h3 {
  margin-top: 0;
  color: var(--text);
}

.cookie-buttons {
  display: flex;
  gap: 10px;
  flex-direction: column;
  margin-top: 15px;
}

.cookie-box button {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: opacity 0.2s;
}

.accept-btn {
  background: #2563eb;
  color: #fff;
}

.manage-btn {
  background: #e5e7eb;
  color: #1e293b;
}

@media (min-width: 480px) {
  .cookie-buttons {
    flex-direction: row;
  }
}

/* FOOTER */
footer {
  text-align: center;
  font-size: 12px;
  margin: 40px 0;
  color: #64748b;
}

/* FEEDBACK */
.feedback {
  margin-top: 12px;
  padding: 12px;
  background: #f5f7fa;
  border-left: 4px solid #4da3ff;
  border-radius: 8px;
  font-size: 13px;
}

/* TAGS */
.tag {
  display: inline-block;
  padding: 3px 8px;
  border-radius: 12px;
  font-size: 11px;
  margin-bottom: 6px;
  color: #fff;
}

.tag.ram { background: #6366f1; }
.tag.gpu { background: #ef4444; }
.tag.driver { background: #22c55e; }

/* RISK NOTES */
.risk-note {
  margin-top: 6px;
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 6px;
}

.risk-low {
  background: #ecfdf5;
  color: #065f46;
}

.risk-mid {
  background: #fffbeb;
  color: #92400e;
}

.risk-high {
  background: #fef2f2;
  color: #991b1b;
}

/* SITE STATS */
.site-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  max-width: 950px;
  margin: 40px auto 10px;
  padding: 0 10px;
}

.stat-card {
  background: var(--card);
  border-radius: 14px;
  padding: 14px;
  text-align: center;
  font-size: 13px;
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
  transition: .25s;
}

.stat-card b {
  font-size: 18px;
}

.stat-card:hover {
  transform: translateY(-4px);
}

/* FAVORITES */
.favorite-btn {
  position: absolute;
  top: 12px;
  right: 12px;
  background: #facc15;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 20px;
  cursor: pointer;
  font-weight: bold;
}

.favorite-panel {
  position: fixed;
  top: 80px;
  right: -320px;
  width: 300px;
  height: calc(100% - 100px);
  background: var(--card);
  box-shadow: -4px 0 20px rgba(0,0,0,0.15);
  border-radius: 12px;
  padding: 14px;
  transition: right 0.3s;
  overflow-y: auto;
  z-index: 1500;
}

.favorite-panel.active {
  right: 20px;
}

.favorite-item {
  padding: 8px;
  border-bottom: 1px solid #ddd;
  font-size: 13px;
  cursor: pointer;
}

/* COPY BUTTON */
.copy-btn {
  position: absolute;
  right: 14px;
  bottom: 14px;
  background: #2563eb;
  color: #fff;
  border: none;
  padding: 6px 12px;
  border-radius: 20px;
  cursor: pointer;
  font-weight: bold;
  font-size: 12px;
}

.copy-msg {
  position: fixed;
  bottom: 50px;
  right: 20px;
  background: #22c55e;
  color: #fff;
  padding: 6px 12px;
  border-radius: 12px;
  font-size: 12px;
  opacity: 0;
  transition: opacity 0.3s;
  z-index: 3000;
}

.copy-msg.show {
  opacity: 1;
}

        /* =========================
   BSOD CENTRAL ‚Äì PRO UI SKIN
   (No logic change ‚Äì visual only)
   ========================= */

/* Modern font override */
body {
    font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* Smooth transitions everywhere */
* {
    transition: background-color .25s ease,
                color .25s ease,
                transform .25s ease,
                box-shadow .25s ease;
}

/* Topbar premium depth */
.topbar {
    box-shadow: 0 8px 28px rgba(0,0,0,.28);
    backdrop-filter: blur(8px);
}

/* Search input focus */
.search:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37,99,235,.25);
}

/* Cards (details) polish */
details {
    border: 1px solid rgba(0,0,0,.06);
}

details:hover {
    transform: translateY(-3px);
    box-shadow: 0 14px 32px rgba(0,0,0,.18);
}

/* Summary looks more technical */
summary {
    font-size: 15px;
    letter-spacing: .35px;
}

/* Risk bars ‚Äì gradient */
.risk-bar {
    background: linear-gradient(90deg,#e5e7eb,#f1f5f9);
}

.risk-fill.low {
    background: linear-gradient(90deg,#22c55e,#4ade80);
}
.risk-fill.mid {
    background: linear-gradient(90deg,#f59e0b,#fbbf24);
}
.risk-fill.high {
    background: linear-gradient(90deg,#ef4444,#f87171);
}

/* Buttons hover glow */
button:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(37,99,235,.35);
}

/* Favorite panel premium */
.favorite-panel {
    border: 1px solid rgba(0,0,0,.08);
    box-shadow: -10px 0 35px rgba(0,0,0,.25);
}

/* Favorite item hover */
.favorite-item:hover {
    background: rgba(37,99,235,.08);
    border-radius: 8px;
}

/* Stat cards glass effect */
.stat-card {
    backdrop-filter: blur(6px);
}

.stat-card:hover {
    transform: translateY(-5px);
}

/* Copy message popup */
.copy-msg {
    box-shadow: 0 12px 30px rgba(0,0,0,.35);
}

/* Cookie modal animation */
.cookie-box {
    animation: pop .35s ease;
}

@keyframes pop {
    from { transform: scale(.92); opacity: 0 }
    to   { transform: scale(1); opacity: 1 }
}

/* Scrollbar (desktop) */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: linear-gradient(#2563eb,#38bdf8);
    border-radius: 10px;
}

/* Dark mode fine tuning */
body.dark details {
    border-color: rgba(255,255,255,.08);
}
body.dark .favorite-item:hover {
    background: rgba(255,255,255,.06);
}

/* =========================
   PREMIUM FEEDBACK UI
========================= */

.feedback-box {
  margin-bottom: 28px;
  padding: 18px 20px;
  border-radius: 14px;
  background: linear-gradient(145deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.feedback-title {
  font-size: 14px;
  font-weight: 600;
  color: #aac3ee;
  letter-spacing: .3px;
}

.feedback-actions {
  display: flex;
  gap: 10px;
}

.feedback-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  font-size: 13px;
  font-weight: 600;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.15);
  background: rgba(37, 99, 235, 0.1); /* Hafif mavi ≈üeffaf arka plan */
    color: #2563eb;                    /* Yazƒ± rengini belirgin mavi yap */
    border: 1px solid #2563eb;         /* Belirgin kenarlƒ±k */
    
    cursor: pointer;
    transition: all .25s ease;
}

.feedback-btn span {
  opacity: .9;
}

.feedback-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
  background: rgba(255,255,255,.12);
}

.feedback-btn.yes:hover {
  border-color: rgba(0,160,255,.6);
  color: #a8d9ff;
}

.feedback-btn.no:hover {
  border-color: rgba(255,90,90,.6);
  color: #ffb3b3;
}

.feedback-btn:active {
  transform: scale(.96);
}

.feedback {
    background: var(--card);
    border: 1px #6393d3;
    border-radius: 8px;
}


.feedback {
    display: flex;
    align-items: center;
    gap: 10px;
    padding-right: 90px;
    box-sizing: border-box;
}

.top-stats {
    max-width: 950px;
    margin: 20px auto 10px;
    padding: 14px 18px;
    background: var(--card);
    border-radius: 14px;
    box-shadow: 0 8px 20px rgba(0,0,0,.12);
}

.top-stats-title {
    font-size: 13px;
    font-weight: 700;
    margin-bottom: 10px;
    color: #2563eb;
}

.top-stats-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.top-error {
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 600;
    background: rgba(37,99,235,.12);
    color: #2563eb;
    cursor: pointer;
    transition: .2s;
}

.top-error:hover {
    background: #2563eb;
    color: #fff;
}

    </style>
</head>
<body>
<div class="topbar">
  <div>üü¶ BSOD Central</div>
  <div>
    <button id="toggleFavorites">‚≠ê Favorites</button>
    <button onclick="toggleDark()">üåô / ‚òÄÔ∏è</button>
  </div>
</div>

<div class="content">
  <input class="search" id="search" placeholder="Search any BSOD...">

  <div class="top-stats">
    <div class="top-stats-title">üî• Most searched BSOD errors</div>
    <div class="top-stats-list" id="topErrors"></div>
</div>

  <div id="list"></div>
</div>



<div class="favorite-panel" id="favPanel">
  <h3>‚≠ê Favorite Errors </h3>
  <div id="favList"></div>
</div>

<div class="site-stats">
  <div class="stat-card">üìä <b>50+</b><br>BSOD Code</div>
  <div class="stat-card">üë• <b>8.000+</b><br>Read</div>
  <div class="stat-card">üëç <b>%76</b><br>Found Useful</div>
  <div class="stat-card">‚ö†Ô∏è <b>High</b><br>Risk Analysis</div>
</div>

<div class="copy-msg" id="copyMsg">üìã Copied!</div>

<footer>
    üïí Last Updates: <span id="lastUpdate"></span><br><br>
    ¬© Nail √áEVƒ∞K ‚Äì BSOD Central
</footer>

<div class="overlay" id="cookie">
  <div class="cookie-box">
    <h3>üç™ Cookies Usage</h3>
    <p>This website uses cookies to provide you with the best experience. You can change your settings at any time.</p>
    <div class="cookie-buttons">
      <button onclick="acceptCookies()" class="accept-btn">Accept all</button>
      <button onclick="manageCookies()" class="manage-btn">Manage</button>
    </div>
  </div>
</div>

<script>
const text={tr:{search:"Search BSOD",reason:"Reason",solution:"Solution",risk:"Risk Level"},en:{search:"Search BSOD‚Ä¶",reason:"Reason",solution:"Description",risk:"Risk Level"}};
let currentLang="tr";

const rawErrors = [
{ c:"0x00000001", n:"APC_INDEX_MISMATCH", r:"Asynchronous Procedure Call state became inconsistent due to a driver error.", d:"This BSOD means that there has been a mismatch in the APC state index." },
{ c:"0x00000002", n:"DEVICE_QUEUE_NOT_BUSY", r:"A driver attempted to remove a device from a queue that was not active.", d:"This BSOD is uncommon. DEVICE_QUEUE_NOT_BUSY." },
{ c:"0x00000003", n:"INVALID_AFFINITY_SET", r:"An invalid CPU affinity mask was assigned to a thread.", d:"This BSOD is uncommon. INVALID_AFFINITY_SET." },
{ c:"0x00000004", n:"INVALID_DATA_ACCESS_TRAP", r:"The CPU trapped an invalid memory access operation.", d:"This BSOD is uncommon. INVALID_DATA_ACCESS_TRAP." },
{ c:"0x00000005", n:"INVALID_PROCESS_ATTACH_ATTEMPT", r:"A process attempted to attach to another process incorrectly.", d:"This BSOD is uncommon. INVALID_PROCESS_ATTACH_ATTEMPT." },
{ c:"0x00000006", n:"INVALID_PROCESS_DETACH_ATTEMPT", r:"A process detach operation was attempted while still attached.", d:"This BSOD is uncommon. INVALID_PROCESS_DETACH_ATTEMPT." },
{ c:"0x00000007", n:"INVALID_SOFTWARE_INTERRUPT", r:"An invalid or corrupted software interrupt occurred.", d:"This BSOD is uncommon. INVALID_SOFTWARE_INTERRUPT." },
{ c:"0x00000008", n:"IRQL_NOT_DISPATCH_LEVEL", r:"A driver executed code at an incorrect interrupt request level.", d:"This BSOD is uncommon. IRQL_NOT_DISPATCH_LEVEL." },
{ c:"0x00000009", n:"IRQL_NOT_GREATER_OR_EQUAL", r:"A driver raised IRQL incorrectly or violated interrupt rules.", d:"This BSOD is uncommon. IRQL_NOT_GREATER_OR_EQUAL." },
{ c:"0x0000000A", n:"IRQL_NOT_LESS_OR_EQUAL", r:"A driver accessed invalid or paged memory at high IRQL.", d:"Microsoft Windows or a kernel-mode driver accessed paged memory at DISPATCH_LEVEL or above." },
{ c:"0x0000000B", n:"NO_EXCEPTION_HANDLING_SUPPORT", r:"The system encountered an exception without proper handler support.", d:"This BSOD is uncommon. NO_EXCEPTION_HANDLING_SUPPORT." },
{ c:"0x0000000C", n:"MAXIMUM_WAIT_OBJECTS_EXCEEDED", r:"A thread exceeded the maximum number of wait objects.", d:"The current thread exceeded the permitted number of wait objects." },
{ c:"0x0000000F", n:"SPIN_LOCK_ALREADY_OWNED", r:"A spin lock was requested while already owned by the same thread.", d:"A request for a spin lock has been initiated when the spin lock was already owned." },
{ c:"0x00000012", n:"TRAP_CAUSE_UNKNOWN", r:"The system encountered an unknown processor exception.", d:"An unknown exception has occurred." },
{ c:"0x00000018", n:"REFERENCE_BY_POINTER", r:"A kernel object reference count was corrupted.", d:"The reference count of an object is illegal for the current state of the object." },
{ c:"0x00000019", n:"BAD_POOL_HEADER", r:"Memory pool metadata was corrupted by a driver.", d:"A pool header is corrupt." },
{ c:"0x0000001A", n:"MEMORY_MANAGEMENT", r:"Critical memory management structures were damaged.", d:"A severe memory management error occurred." },
{ c:"0x0000001E", n:"KMODE_EXCEPTION_NOT_HANDLED", r:"A kernel-mode component generated an unhandled exception.", d:"A kernel-mode program generated an exception which the error handler did not catch." },
{ c:"0x00000020", n:"KERNEL_APC_PENDING_DURING_EXIT", r:"A thread exited while APCs were still pending.", d:"An asynchronous procedure call (APC) was still pending when a thread exited." },
{ c:"0x00000023", n:"FAT_FILE_SYSTEM", r:"The FAT file system driver encountered a critical disk error.", d:"A problem occurred in the FAT file system." },
{ c:"0x00000024", n:"NTFS_FILE_SYSTEM", r:"The NTFS file system driver failed due to disk or memory corruption.", d:"A problem occurred in ntfs.sys, the driver file for NTFS drives." },
{ c:"0x0000002B", n:"PANIC_STACK_SWITCH", r:"The kernel stack overflowed or switched incorrectly.", d:"The kernel mode stack was overrun." },
{ c:"0x0000002E", n:"DATA_BUS_ERROR", r:"A memory parity or data bus error was detected.", d:"A parity error in system memory has been detected." },
{ c:"0x00000031", n:"PHASE0_INITIALIZATION_FAILED", r:"Early system initialization failed during boot.", d:"System initialization failed during early stages." },
{ c:"0x0000003B", n:"SYSTEM_SERVICE_EXCEPTION", r:"A system service caused an exception in kernel mode.", d:"Exception happened while executing a routine that transitions to privileged code." },
{ c:"0x0000003E", n:"MULTIPROCESSOR_CONFIGURATION_NOT_SUPPORTED", r:"The system CPU configuration is unsupported.", d:"System has multiple processors, but they are asymmetric." },
{ c:"0x0000003F", n:"NO_MORE_SYSTEM_PTES", r:"The system exhausted available page table entries.", d:"Result of a system which has performed too many I/O actions." },
{ c:"0x00000044", n:"MULTIPLE_IRP_COMPLETE_REQUESTS", r:"A driver attempted to complete an IRP more than once.", d:"A driver has tried to requested an IRP be completed that is already complete." },
{ c:"0x0000004E", n:"PFN_LIST_CORRUPT", r:"The Page Frame Number list became corrupted.", d:"The page frame number (PFN) list is corrupted." },
{ c:"0x00000050", n:"PAGE_FAULT_IN_NONPAGED_AREA", r:"Invalid memory was accessed in a non-paged memory region.", d:"Invalid system memory has been referenced." },
{ c:"0x00000051", n:"REGISTRY_ERROR", r:"The Windows registry became critically corrupted.", d:"A severe registry error has occurred." },
{ c:"0x00000074", n:"BAD_SYSTEM_CONFIG_INFO", r:"System configuration data in the registry is invalid.", d:"There is an error in the registry." },
{ c:"0x00000077", n:"KERNEL_STACK_INPAGE_ERROR", r:"Kernel stack data could not be read from disk.", d:"Requested page of kernel data could not be read into memory." },
{ c:"0x0000007A", n:"KERNEL_DATA_INPAGE_ERROR", r:"Kernel data could not be read from the paging file.", d:"Requested page of kernel data from paging file failed." },
{ c:"0x0000007B", n:"INACCESSIBLE_BOOT_DEVICE", r:"The operating system lost access to the boot drive.", d:"Microsoft Windows has lost access to the system partition during startup." },
{ c:"0x0000007E", n:"SYSTEM_THREAD_EXCEPTION_NOT_HANDLED", r:"A system thread generated an unhandled exception.", d:"A system thread generated an exception that was not caught." },
{ c:"0x0000007F", n:"UNEXPECTED_KERNEL_MODE_TRAP", r:"The CPU generated a trap the kernel could not handle.", d:"Intel CPU generated a trap and the kernel failed to catch it." },
{ c:"0x00000080", n:"NMI_HARDWARE_FAILURE", r:"A fatal hardware malfunction was detected.", d:"A hardware malfunction has occurred." },
{ c:"0x0000008E", n:"KERNEL_MODE_EXCEPTION_NOT_HANDLED", r:"A kernel-mode application caused an unhandled exception.", d:"A kernel-mode application generated an uncaught exception." },
{ c:"0x00000093", n:"INVALID_KERNEL_HANDLE", r:"An invalid or protected kernel handle was accessed.", d:"An invalid or protected handle was passed to NtClose." },
{ c:"0x0000009A", n:"SYSTEM_LICENSE_VIOLATION", r:"A Windows licensing or activation violation occurred.", d:"The software license agreement has been violated." },
{ c:"0x0000009C", n:"MACHINE_CHECK_EXCEPTION", r:"The CPU detected a fatal hardware error.", d:"A fatal machine check exception has occurred." },
{ c:"0x0000009F", n:"DRIVER_POWER_STATE_FAILURE", r:"A driver failed to handle power state transitions.", d:"The driver is in an inconsistent or invalid power state." },
{ c:"0x000000A5", n:"ACPI_BIOS_ERROR", r:"The system BIOS does not fully support ACPI.", d:"ACPI BIOS is not fully compliant with the specification." },
{ c:"0x000000B4", n:"VIDEO_DRIVER_INIT_FAILURE", r:"The graphics driver failed to initialize.", d:"Windows was unable to enter graphics mode." },
{ c:"0x000000BE", n:"ATTEMPTED_WRITE_TO_READONLY_MEMORY", r:"A driver attempted to write to protected memory.", d:"A driver attempts to write to a read-only memory segment." },
{ c:"0x000000C2", n:"BAD_POOL_CALLER", r:"A driver made an invalid memory pool request.", d:"The current thread is making a bad pool request." },
{ c:"0x000000D1", n:"DRIVER_IRQL_NOT_LESS_OR_EQUAL", r:"A driver accessed pageable memory at invalid IRQL.", d:"Kernel-mode driver attempted to access pageable memory at high IRQL." },
{ c:"0x000000DC", n:"STACK_ADDRESS_BELOW_POINTER", r:"A driver accessed memory below the current stack pointer.", d:"Driver accessed a stack address below the pointer." }
];

const errors = rawErrors.map((e, idx) => ({
    code: e.c + " (" + e.n + ")",
    reason: { tr: e.r, en: e.r },
    solution: { tr: e.d, en: e.d },
    risk: idx % 3 === 0 ? "high" : idx % 3 === 1 ? "mid" : "low"
}));

const list=document.getElementById("list");

function render(arr) {
    list.innerHTML = "";

    arr.forEach(e => {

        const category =
            e.risk === 'high' ? 'driver' :
            e.risk === 'mid'  ? 'gpu' :
                                'ram';

        const riskText =
            e.risk === 'high'
                ? '‚ö†Ô∏è Critical level: Risk of hardware failure.'
                : e.risk === 'mid'
                    ? '‚ö†Ô∏è Intermediate level: Caution is required.'
                    : '‚ÑπÔ∏è Low-level: Typically software-related.';

        const percent = Math.floor(60 + Math.random() * 35);

        const fav = localStorage.getItem('favorites')
            ? JSON.parse(localStorage.getItem('favorites'))
            : [];

        const isFav = fav.includes(e.code);

        list.innerHTML += `
            <details>
                <summary>${e.code}</summary>

                <span class="tag ${category}">
                    ${category.toUpperCase()}
                </span>

                <p>
                    <b>${text[currentLang].reason}:</b>
                    ${e.reason[currentLang]}
                </p>

                <p>
                    <b>${text[currentLang].solution}:</b>
                    ${e.solution[currentLang]}
                </p>

                <div class="risk-note risk-${e.risk}">
                    ${riskText}
                </div>

                <div class="risk-wrap">
                    ‚ö†Ô∏è ${text[currentLang].risk}
                    <div class="risk-bar">
                        <div class="risk-fill ${e.risk}"></div>
                    </div>
                </div>

                <div class="stat">
                    üëç ${percent}% users found this helpful
                </div>

                <div class="feedback-box">
                    <div class="feedback-title">Was this helpful?</div>
                    <div class="feedback-actions">
                        <button class="feedback-btn yes">üëç <span>Yes</span></button>
                        <button class="feedback-btn no">üëé <span>No</span></button>
                    </div>
                </div>

                <button
                    class="favorite-btn"
                    onclick="toggleFavorite('${e.code}', this, event)">
                    ${isFav ? '‚≠ê Delete on Favorites' : '‚≠ê Add to Favorites'}
                </button>

                <button
                    class="copy-btn"
                    onclick="copyError('${e.code}')">
                    üìã Copy
                </button>
            </details>
        `;
    });
}


render(errors);

document.addEventListener("click", function (e) {
    const btn = e.target.closest(".feedback-btn");
    if (!btn) return;

    const box = btn.closest(".feedback-box");
    if (!box) return;

    const code = box.getAttribute("data-code");

    let feedbacks = JSON.parse(localStorage.getItem("feedbacks")) || {};
    feedbacks[code] = Date.now();
    localStorage.setItem("feedbacks", JSON.stringify(feedbacks));

    box.innerHTML = `
        <div class="feedback-title">
            ‚úÖ Geri bildiriminiz i√ßin te≈üekk√ºrler!
        </div>
    `;
});



const search=document.getElementById("search");
search.oninput=()=>{const q=search.value.toLowerCase();render(errors.filter(e=>e.code.toLowerCase().includes(q)))};


function sendFeedback(code, value, btn) {
    const DAY = 24 * 60 * 60 * 1000;

    // feedback kayƒ±tlarƒ±
    let feedbacks = JSON.parse(localStorage.getItem("feedbacks")) || {};

    // zaman kaydet
    feedbacks[code] = {
        value: value,
        time: Date.now()
    };

    localStorage.setItem("feedbacks", JSON.stringify(feedbacks));

    // mesaj g√∂ster
    const box = btn.closest(".feedback-box");
    box.innerHTML = `
        <div class="feedback-title">
            ‚úÖ Thanks for your feedback!
        </div>
    `;
}

document.addEventListener("click", function (e) {
    const btn = e.target.closest(".feedback-btn");
    if (!btn) return;

    const box = btn.closest(".feedback-box");
    if (!box) return;

    const code = box.getAttribute("data-code");

    let feedbacks = JSON.parse(localStorage.getItem("feedbacks")) || {};
    feedbacks[code] = Date.now();
    localStorage.setItem("feedbacks", JSON.stringify(feedbacks));

    box.innerHTML = `
        <div class="feedback-title">
            ‚úÖ Geri bildiriminiz i√ßin te≈üekk√ºrler!
        </div>
    `;
});


function saveFeedback(code) {
    localStorage.setItem("feedback_" + code, Date.now());
}

function setLang(l){currentLang=l;search.placeholder=text[l].search;render(errors)}

function toggleDark(){document.body.classList.toggle("dark");localStorage.setItem("dark",document.body.classList.contains("dark"))}
if(localStorage.getItem("dark")==="true")document.body.classList.add("dark");

function acceptCookies(){localStorage.setItem("cookies","ok");document.getElementById('cookie').style.display="none"}
function manageCookies(){alert("Soon!");}
if(localStorage.getItem("cookies")==="ok")document.getElementById('cookie').style.display="none";

function feedback(btn,type){const box=btn.parentElement;box.innerHTML=type==='yes'?'‚úÖ Thanks for feedback!':'‚ùå Sorry, your feedback is recorded.';}

const d=new Date();document.getElementById('lastUpdate').textContent=d.toLocaleDateString('tr-TR',{day:'numeric',month:'long',year:'numeric'});

function toggleFavorite(code,btn,event){event.stopPropagation();let fav=localStorage.getItem('favorites')?JSON.parse(localStorage.getItem('favorites')):[];if(fav.includes(code)){fav=fav.filter(c=>c!==code);btn.textContent='‚≠ê Add to Favorites'}else{fav.push(code);btn.textContent='‚≠ê Unfavorite'}localStorage.setItem('favorites',JSON.stringify(fav));renderFavorites()}

function renderFavorites(){const favPanel=document.getElementById('favList');const fav=localStorage.getItem('favorites')?JSON.parse(localStorage.getItem('favorites')):[];favPanel.innerHTML='';fav.forEach(code=>{const e=errors.find(err=>err.code===code);if(e) favPanel.innerHTML+=`<div class="favorite-item" onclick="goToError('${e.code}')">${e.code}</div>`})}

document.getElementById('toggleFavorites').onclick=()=>{document.getElementById('favPanel').classList.toggle('active');renderFavorites()}

function goToError(code){const details=document.querySelectorAll('details');details.forEach(d=>{if(d.querySelector('summary').textContent===code){d.scrollIntoView({behavior:'smooth',block:'center'});d.open=true;}})}

function copyError(code){const e=errors.find(err=>err.code===code);if(e){const textToCopy=`${e.code}\n${text[currentLang].reason}: ${e.reason[currentLang]}\n${text[currentLang].solution}: ${e.solution[currentLang]}`;navigator.clipboard.writeText(textToCopy);const msg=document.getElementById('copyMsg');msg.classList.add('show');setTimeout(()=>msg.classList.remove('show'),1500);}}

</script>

<script>
async function countSearchFS(code) {
  const ref = doc(db, "searches", code);

  const snap = await getDoc(ref);

  if (snap.exists()) {
    await updateDoc(ref, {
      count: increment(1)
    });
  } else {
    await setDoc(ref, {
      count: 1
    });
  }

  console.log("search sayƒ±ldƒ±:", code);
}
</script>


<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBzllnsB7YpBo3zpAhJCX2syPMlXlZumeY",
    authDomain: "bsodcentral-23af4.firebaseapp.com",
    projectId: "bsodcentral-23af4",
    storageBucket: "bsodcentral-23af4.firebasestorage.app",
    messagingSenderId: "460072681940",
    appId: "1:460072681940:web:b08bb35536798848acd641",
    measurementId: "G-REBSZB9F4M"
  };

  import {
  getFirestore,
  doc,
  getDoc,
  setDoc,
  updateDoc,
  increment
} from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";


  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const analytics = getAnalytics(app);

window.db = db;
window.doc = doc;
window.getDoc = getDoc;
window.setDoc = setDoc;
window.updateDoc = updateDoc;
window.increment = increment;
</script>

</body>
</html>
